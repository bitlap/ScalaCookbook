# 13 集合：常见序列方法

前两章主要关注序列类，本章主要关注常用的序列方法。深入研究这些小节前，当使用集合类方法时，需要了解一些重要的概念：

- 谓词
- 匿名函数
- 隐式循环

## 谓词

*predicate*是一个方法、函数或匿名函数。接收一个或多个输入参数并返回**Boolean**值。 下面方法返回 **true** 或 **false**，所以是一个谓词：

```
    def isEven(i: Int): Boolean =
        i % 2 == 0
```

谓词是一个简单的概念，使用集合方法时，会经常听到这个术语，所以有必要提及。

## 匿名函数

匿名函数的概念也很重要。在10.1小节“使用函数字面量(匿名函数)”中有深入的描述，作为一个简单的例子，下面代码展示了完整的匿名函数，与 **isEven** 方法做同样的工作：

```
	(i: Int) => i % 2 == 0
```

简写如下：

```
	_ % 2 == 0
```

看起来并不多，但当它与集合上的**filter**方法结合在一起时，一小段代码就会发挥很大的作用：

```
    scala> val list = List.range(1, 10)
    list: List[Int] = List(1, 2, 3, 4, 5, 6, 7, 8, 9)

    scala> val events = list.filter(_ % 2 == 0)
    events: List[Int] = List(2, 4, 6, 8)
```

  

## 隐式循环

**filter**方法是第三个话题的一个很好的例子：*implied loops*。正如你从上面例子中看到的，**filter**包含一个循环，将你的函数使用在集合中的每个元素，并返回一个新的集合。你可以不使用**filter**方法，而写出下面等价代码：

```
    for
    	e <- list
    	if e % 2 == 0
    yield
    	e
```

我认为你会赞同，**filter**方法既更简洁，也更容易阅读。

像**filter**、**foreach**、**map**、**reduceLeft**等集合方法都在其算法中内置了循环。由于这些内置的方法，在编写Scala代码时，你会比其他语言少写很多自定义的**for**循环。

## 本章中的小节

虽然序列类有一百多个内置的方法，但本章的小节主要集中在最常用的方法上，包括：

- **filter**，允许你用一个给定的谓词来过滤集合。
- **map**，允许你对集合中的每个元素应用一个转换函数。
- 提取序列和现有序列子集的方法。
- 寻找序列中唯一元素的方法。
- 合并和压缩序列的方法。
- 随机化和排序序列的方法。
- 将序列转换为字符串的两个方法。

这些功能（以及更多的功能）将在下面的小节中展示。

## 13.1 选择集合方法解决问题

### 问题

Scala集合里有大量的方法可用，需要选择其中一个来解决一个问题。

### 解决方案

Scala集合类提供了丰富的用来操作数据的方法。绝大多数方法以一个函数或者谓词作为参数。

可用的方法在本节中会以两种方式列出。接下来的几段中，方法按类别划分，从而使你方便找到所需要的。然后在后面的表格中，还会有简单的描述和方法签名。

#### 按类别划分的方法

##### 过滤方法

可以用来过滤一个集合的方法，包括**collect**，**diff**，**distinct**，**drop**，**dropRight**，**dropWhile**，**filter**，**filterNot**，**filterInPlace**，**find**，**foldLeft**，**foldRight**，**head**，**headOption**，**init**，**intersect**，**last**，**lastOption**，**slice**，**tail**，**take**，**takeRight**，**takeWhile**和**union**。

##### 转换方法

转化器方法至少需要一个输入集合来创建一个新的输出集合，通常使用你提供的算法。包括 **+**，**++**，**+:**，**++:**，
**appended**，**appendedAll**，**diff**，**distinct**，**collect**，**concat**，**flatMap**，**flatten**，**inits**，**map**，**mapInPlace**， **patch**， **reverse**， **sorted**， **sortBy**， **sortWith**， **sortInPlace**， **sortInPlaceWith**， **sortInPlaceBy**， **tails**， **takeWhile**， **updated**， **zip**和**zipWithIndex**。

##### 分组方法

这些方法会根据一个已有的集合创建多个分组。包括**groupBy**，**grouped**，**groupMap**，**partition**，**sliding**，**span**，**splitAt**和**unzip**。

##### 信息和数学方法

##### 其他



#### 通用集合方法

#### 可变集合方法

#### 不可变集合方法

#### Maps

### 讨论



## 13.2 用foreach遍历一个集合

### 问题

### 解决方案

#### Map上使用foreach

### 讨论

### 另见



## 13.3 使用迭代器

### 问题

### 解决方案

### 讨论

### 另见



## 13.4 使用zipWithIndex或者zip创建循环计数器

### 问题

### 解决方案

### 讨论

### 

## 13.5 用Map实现集合的转换

### 问题

### 解决方案

### 讨论

### 

## 13.6 用flatten对列表进行扁平化处理

### 问题

### 解决方案

### 讨论



## 13.7 用flilter对列表进行过滤

### 问题

### 解决方案

### 讨论

### 

## 13.8 从集合中提取元素序列

### 问题

### 解决方案

### 讨论



## 13.9 将序列拆分成子集

### 问题

### 解决方案

### 讨论



## 13.10 用reduce和fold方法遍历集合

### 问题

### 解决方案

### 讨论

### 另见

## 13.11 从序列中查找不重复的元素

### 问题

### 解决方案

### 讨论

## 13.12 合并序列集合

### 问题

### 解决方案

### 讨论

## 13.13 随机化序列

### 问题

### 解决方案

### 讨论

## 13.14 集合排序

### 问题

### 解决方案

### 讨论

### 另见

## 13.15 通过mkString和addString将集合转换成字符串

### 问题

### 解决方案

### 讨论
