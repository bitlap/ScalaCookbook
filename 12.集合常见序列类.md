# 12 集合：常见序列类

在本章中，我们会研究最常见的序列类。 正如11.1节“选择集合类”中提到的，序列类的使用建议如下：

- **Vector**是首选的不可变索引序列。
- **List**是首选的不可变线性序列。
- **ArrayBuffer**是首选的可变索引序列。
- **ListBuffer**是首选的可变线性序列。

# Vector

正如11.1 节“选择集合类”中所讨论，**Vector**是首选的不可变索引序列类，因为它具有通用的性能特征。 需要不可变序列时使用它。

因为 **Vector** 是不可变的，所以可以通过过滤和转换方法创建另一个**Vector**。 快速浏览下面创建和使用 **Vector**的例子：

```scala
    val a = Vector(1, 2, 3, 4, 5)
    val b = a.filter(_ > 2) // Vector(3, 4, 5)
    val c = a.map(_ * 10) // Vector(10, 20, 30, 40, 50)
```



# List

如果你从Java来到Scala，很快会发现尽管名字相同，但Scala **List**与 Java **List** （例如 Java **ArrayList**）完全不同。Scala **List**类是不可变的，大小和包含的元素都不能改变。它基于链表实现，首选的方法是*prepend*元素。由于是链表，所以遍历需要从头到尾，实际上，通常认为它由**head**，**tail** 方法(以及**isEmpty**)组成。

与 **Vector**类似，由于 **List** 是不可变的，所以可以通过过滤和转换方法创建另一个**List**，快速浏览下面创建和使用 **List**的例子：

```scala
    val a = List(1, 2, 3, 4, 5)
    val b = a.filter(_ > 2) // List(3, 4, 5)
    val c = a.map(_ * 10) // List(10, 20, 30, 40, 50)
```

> List和Vector
>
> 你可能想知道何时使用**List**而不是**Vector**。11.2小节“理解集合的性能”中详细介绍了性能特征，提供了选择的通用规则。
>
> 在一个有趣的实验中，Scala语言的创建者Martin Odersky，在Scala贡献者网站上的这个帖子中指出，Tiark Rompf曾经试图用Vector替换Scala编译器中的所有List，结果性能下降了10%。所以认为Vector有一定的开销，导致在处理小序列时效率较低。
>
> 所以 List 有其用处，尤其是当你把它想象成它是一个简单的单链表时。 （在Martin Odersky 先生的评论中，Java Champion， Scala Future的创造者Viktor Klang—认为List是一个优秀的技术栈。）

# ArrayBuffer

**ArrayBuffer** 是首选的可变索引序列类。 因为是可变的，可以通过转换方法来修改内容。 例如，将**map**方法与**Vector**或**List**一起使用，并将结果赋给一个新变量：

```scala
    val x = Vector(1, 2, 3)
    val y = x.map(_ * 2) // y: ArrayBuffer(2, 4, 6)
```

对于**ArrayBuffer**，使用**mapInPlace**而不是**map**方法，会原地修改值：

```scala
    import collection.mutable.ArrayBuffer
    val ab = ArrayBuffer(1, 2, 3)
    ab.mapInPlace(_ * 2) // ab: ArrayBuffer(2, 4, 6)
```

> **Buffers**
>
> 在Scala中，*Buffer*只是一个可以增长和收缩的序列。

# Array





# 12.1 Vector作为首选的不可变序列

## 问题

## 解决方法

### 创建Vectors

### Add, Append和Prepend元素

### 修改元素

## 讨论

# 12.2创建和填充List

## 问题

## 解决方法

## 讨论

## 另见

# 12.3 List中添加元素

## 问题

## 解决方法

## 讨论

### 其他方法如prepend，append

## 另见

# 12.4 List(或ListBuffer)中删除元素

## 问题

## 解决方法

### List

### ListBuffer

## 讨论

## 另见

# 12.5 用ListBuffer创建可变列表

## 问题

## 解决方法

## 讨论

### 小List

# 12.6  使用LazyList

## 问题

## 解决方法

## 讨论

## 另见

# 12.7 ArrayBuffer为首选的可变序列

## 问题

## 解决方法

## 讨论

# 12.8 从Array和ArrayBuffer中删除元素

## 问题

## 解决方法

## 讨论

# 12.9 创建和修改Array

## 问题

## 解决方法

## 讨论

# 12.10 创建多维数组

## 问题

## 解决方法

## 讨论

# 12.11 数组排序

## 问题

## 解决方法

## 讨论

## 另见